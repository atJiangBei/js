<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
	</body>
</html>
<script>
	const p = new Promise((resolve,reject)=>{
		setTimeout(resolve,1000,1)
	})
	const p1 = new Promise((resolve,reject)=>{
		resolve(11)
	})
	const p2 = new Promise((resolve,reject)=>{
		resolve(12)
	})
	const all = (promises)=>{
		let result = []
		let length = promises.length
		let al = 0;
		return new Promise((resolve,reject)=>{
			for(let i=0;i<length;i++){
				Promise.resolve(promises[i]).then(res=>{
					result[i] = res
					al++
					if(al === length){
						resolve(result)
					}
				}).catch(err=>{
					reject(err)
				})
			}
		})
	}
	all([p,p1,p2]).then(res=>{
		console.log(res)
	})
	Promise.all([p,p1,p2]).then(res=>{
		console.log(res)
	})

</script>