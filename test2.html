<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
	</body>
</html>
<script>
	const uniqueify = (arr,fn)=>{
		if(!fn){
			return [...new Set(arr)]
		}
		let newArr = [];
		let keyMap = {};
		for(let i=0;i<arr.length;i++){
			const item = arr[i];
			const result = fn(item);
			if(!keyMap[result]){
				newArr.push(item)
				keyMap[result] = true;
			}
		}
		return newArr
	}
	const arr1 = [1,1,1,0,5];
	const arr2 = [
		{id:1,name:"xx"},
		{id:2,name:"xx"},
		{id:1,name:"xx"},
		{id:1,name:"xx"},
	];
	const arr3 = [
		{name:"xx",sex:"sss"},
		{name:"xx",sex:"sss"},
		{name:"bb",sex:"sss"},
		{name:"xx",sex:"eee"},
	];
	const result1 = uniqueify(arr1)
	const result2 = uniqueify(arr2,function(a){
		return a.id;
	})
	const result3 = uniqueify(arr3,function(a){
		return a.name+a.sex;
	})
	console.log(result3)
	// const uni = (arr, fn = item => item) => {
	//   return arr.filter((item, index, arr) => arr.findIndex(inner => fn(inner) === fn(item)) === index)
	// }
	// const result3 = uni(arr1,function(a){
	// 	return a.id;
	// })
	// console.log(result3)
</script>
