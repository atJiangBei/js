<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<meta content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no" name="viewport" />
		<style>
			* {
				margin: 0;
				padding: 0;
			}

			body {
				perspective: 100px;
				-webkit-perspective: 100px;
			}

			.box {
				height: 600px;
				width: 600px;
				border: 1px solid #2287F5;
				margin: 100px auto;
				position: relative;

				transform-style: preserve-3d;
			}

			.box>div {
				height: 300px;
				width: 200px;
				background: url(hehe.png) no-repeat center;
				background-size: 100% 100%;
				position: absolute;
				left: 0;
				top: 0;
				right: 0;
				bottom: 0;
				margin: auto;
				transition: all 0.6s;
			}

			.box>div:nth-child(1) {
				transform: translate3d(-292px,0px,-87px) rotateY(-21deg);
			}

			.box>div:nth-child(2) {
				transform: translateZ(-30px) rotateY(0deg);
			}

			.box>div:nth-child(3) {
				transform: translate3d(292px,0px,-87px) rotateY(22deg);
			}
		</style>
	</head>
	<body>
		<div class="box" id="container3d">
			<div></div>
			<div></div>
			<div></div>
		</div>
	</body>
</html>
<script>
	const container = document.querySelector("#container3d");
	const childs = container.children;
	const styles3d = [
		"transform: translate3d(-292px,0px,-87px) rotateY(-21deg)",
		"transform: translateZ(-30px) rotateY(0deg)",
		"transform: translate3d(292px,0px,-87px) rotateY(22deg)",
		]
	const InAndOutOfTheStack = ()=>{
		const end = styles3d.pop();
		styles3d.unshift(end)
	}
	const setStyle = (dom,val)=>{
		dom.setAttribute("style",val)
	}
	const setStyleAll = (styles)=>{
		console.log(styles)
		for(let i=0;i<childs.length;i++){
			setStyle(childs[i],styles[i])
		}
	}
	setStyleAll(styles3d)
	
	setInterval(()=>{
		InAndOutOfTheStack();
		setStyleAll(styles3d)
	},3000)
</script>
